(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b793a7f2"],{"7db0":function(t,o,i){"use strict";var a=i("23e7"),n=i("b727").find,c=i("44d2"),s=i("ae40"),e="find",r=!0,u=s(e);e in[]&&Array(1)[e]((function(){r=!1})),a({target:"Array",proto:!0,forced:r||!u},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),c(e)},d2f1:function(t,o,i){"use strict";i.r(o);var a=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(o){t.isLoading=o}}}),i("div",{staticClass:"container pt-5"},[i("div",{staticClass:"row d-none d-md-block mb-5"},[i("div",{staticClass:"col offset-md-1 text-left"},[i("router-link",{staticClass:"w-100 text-decoration-none",attrs:{to:"/Products"}},[t._v(" Products ")]),t._v(" /"+t._s(t.productDetail.title)+" ")],1)])]),i("section",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-4 offset-1"},t._l(t.productDetail.imageUrl,(function(t){return i("img",{key:t.id,staticClass:"w-100 mb-3",attrs:{src:t,alt:t.title}})})),0),i("div",{staticClass:"col col-5 offset-1 position-relative"},[i("div",{staticClass:"d-flex justify-content-start flex-column position-fixed"},[i("h2",{staticClass:"text-left"},[t._v(t._s(t.productDetail.title))]),i("p",{staticClass:"text-left"},[t._v(t._s(t.productDetail.price)+"/"+t._s(t.productDetail.unit)+" "),i("s",{staticClass:"ml-5"},[t._v(t._s(t.productDetail.origin_price)+"/"+t._s(t.productDetail.unit))])]),i("p",{staticClass:"text-left"},[t._v(t._s(t.productDetail.content))]),i("p",{staticClass:"text-left mb-8"},[t._v(t._s(t.productDetail.description))]),i("p",{staticClass:"text-left mb-1",attrs:{for:""}},[t._v("Quantity")]),i("div",{staticClass:"w-50 btn-group btn-group-sm mb-5",attrs:{role:"group","aria-label":""}},[i("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(o){return t.changeNowQuantity(-1)}}},[t._v("-")]),i("button",{staticClass:"px-8 btn btn-outline-primary border-primary",attrs:{type:"button",disabled:""}},[t._v(t._s(t.nowQuantity))]),i("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(o){return t.changeNowQuantity(1)}}},[t._v("+")])]),i("button",{staticClass:"w-50 btn btn-outline-primary mb-1",on:{click:function(o){return t.addToCart(t.productDetail.id,t.nowQuantity)}}},[t._v("Add To Cart")]),i("button",{staticClass:"w-50 btn btn-primary mb-1",on:{click:function(o){return t.buyNow(t.productDetail.id,t.nowQuantity)}}},[t._v("Buy Now")])])])])]),i("section",{staticClass:"container"},[i("h3",{staticClass:"mb-5"},[t._v("- Popular Collections -")]),i("div",{staticClass:"row"},t._l(t.productsList.slice(0,4),(function(t){return i("div",{key:t.id,staticClass:"col col-3"},[i("img",{staticClass:"w-100",attrs:{src:t.imageUrl[0],alt:t.title}})])})),0)])],1)},n=[],c=(i("99af"),i("7db0"),i("d3b7"),i("25f0"),{data:function(){return{isLoading:!1,productsList:[],nowProductId:"",productDetail:[],nowQuantity:1,cartList:[]}},methods:{buyNow:function(t,o){this.addToCart(t,o),this.$router.push("/checkout")},changeNowQuantity:function(t){this.nowQuantity+t<=0?this.nowQuantity=0:this.nowQuantity+=t},getProductDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.nowProductId,o=this,i="".concat("https://course-ec-api.hexschool.io/api","/").concat("1874925e-73c7-44be-80e4-108aedfb48f0","/ec/product/").concat(t);o.changeLoadingState("getProducts"),this.$http.get(i).then((function(t){console.log(t),o.productDetail=t.data.data,o.changeLoadingState("getProducts")})).catch((function(t){console.log(t),o.changeLoadingState("getProducts")}))},getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=this,i="".concat("https://course-ec-api.hexschool.io/api","/").concat("1874925e-73c7-44be-80e4-108aedfb48f0","/ec/products");o.changeLoadingState("getProducts"),this.$http.get(i,{page:t}).then((function(t){console.log(t),o.productsList=t.data.data,o.changeLoadingState("getProducts")})).catch((function(t){console.log(t),o.changeLoadingState("getProducts")}))},getCartList:function(){var t=this,o="".concat("https://course-ec-api.hexschool.io/api","/").concat("1874925e-73c7-44be-80e4-108aedfb48f0","/ec/shopping"),i=this;i.changeLoadingState("getCartList"),this.$http.get(o).then((function(o){console.log(o),i.cartList=o.data.data,i.changeLoadingState("getCartList"),t.$bus.$emit("cartRenew",i.cartList)})).catch((function(t){console.log(t),i.changeLoadingState("getCartList")}))},addToCart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.nowProductId,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nowQuantity,i="".concat("https://course-ec-api.hexschool.io/api","/").concat("1874925e-73c7-44be-80e4-108aedfb48f0","/ec/shopping"),a=this,n=a.cartList.find((function(o){return o.product.id===t}));n?(console.log("already exists"),a.editCart(t,n.quantity+o)):(console.log("{\n          product: ".concat(t,",\n          quantity: ").concat(o.toString(),"\n        }")),this.$http.post(i,{product:t,quantity:o.toString()}).then((function(t){a.getCartList()})).catch((function(t){console.log(t)})))},editCart:function(t,o){var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("1874925e-73c7-44be-80e4-108aedfb48f0","/ec/shopping"),a=this;this.$http.patch(i,{product:t,quantity:o.toString()}).then((function(t){console.log(t),a.getCartList()})).catch((function(t){return console.log(t)}))},changeLoadingState:function(t){this.isLoading=!this.isLoading,console.log(t,this.isLoading)}},created:function(){console.log(this.$route.params.id),this.nowProductId=this.$route.params.id,this.getProductDetails(),this.getProducts(),this.getCartList()}}),s=c,e=i("2877"),r=Object(e["a"])(s,a,n,!1,null,null,null);o["default"]=r.exports}}]);
//# sourceMappingURL=chunk-b793a7f2.8baac22e.js.map