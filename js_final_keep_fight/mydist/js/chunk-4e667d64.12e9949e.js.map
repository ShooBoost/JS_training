{"version":3,"sources":["webpack:///./src/views/Products.vue?39f6","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/assets/image/fruit_banner.png","webpack:///./src/views/Products.vue?13f3","webpack:///src/views/Products.vue","webpack:///./src/views/Products.vue?c466","webpack:///./src/views/Products.vue"],"names":["$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","module","exports","render","_vm","_h","$createElement","_c","_self","_m","staticClass","_v","_l","item","key","id","attrs","imageUrl","_s","title","price","unit","on","$event","addToCart","staticRenderFns","data","productsList","cartList","isLoading","methods","getProducts","$http","get","url","getCartList","vm","changeLoadingState","nowCartItem","product","nowProductId","console","log","editCart","quantity","post","toString","patch","nowMethod","created","component"],"mappings":"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","file":"js/chunk-4e667d64.12e9949e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=c45c8dce&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=c45c8dce&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","module.exports = __webpack_public_path__ + \"img/fruit_banner.ca942207.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('h3',{staticClass:\"mb-4 mb-lg-7\"},[_vm._v(\"Product\")]),_c('section',{staticClass:\"container\"},[_c('ul',{staticClass:\"list-unstyled row\"},_vm._l((_vm.productsList),function(item){return _c('li',{key:item.id,staticClass:\"btnHoverShow col col-6 offset-0 col-sm-6 col-md-4 col-lg-3\\n                btn py-3 border-0 text-primary btn-outline-info text-decoration-none\"},[_c('router-link',{staticClass:\"text-decoration-none w-100\",attrs:{\"to\":(\"/Product/\" + (item.id))}},[_c('div',{staticClass:\"remainRatio2To3 mb-3\"},[_c('img',{attrs:{\"src\":item.imageUrl[0],\"alt\":\"item.title\"}})]),_c('h5',{staticClass:\"mb-2\"},[_vm._v(_vm._s(item.title))]),_c('p',{staticClass:\"mb-2\"},[_vm._v(_vm._s(item.price)+\" NTD/ \"+_vm._s(item.unit))])]),_c('button',{staticClass:\"btn border-0 btn-outline-primary w-100 text-decoration-none\",on:{\"click\":function($event){return _vm.addToCart(item.id)}}},[_vm._v(\" Add to Cart \")])],1)}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"mb-4 mb-lg-7 d-none d-md-block\"},[_c('div',{staticClass:\"container-fluid p-0 position-relative productsBanner\"},[_c('img',{staticClass:\"w-100 h-100 position-absolute object-fit-cover alignLeftTop\",attrs:{\"src\":require(\"../assets/image/fruit_banner.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"h-100 d-flex align-items-center\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col offset-1 offset-md-1\"},[_c('h2',{staticClass:\"line-height-2 text-primary text-md-left letter-spacing-1\"},[_vm._v(\"Life is full of\"),_c('br'),_vm._v(\"Wonderful Flavor\")])])])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- product banner 開始 -->\n    <section class=\"mb-4 mb-lg-7 d-none d-md-block\">\n      <div class=\"container-fluid p-0 position-relative productsBanner\">\n        <img class=\"w-100 h-100 position-absolute object-fit-cover alignLeftTop\" src=\"../assets/image/fruit_banner.png\" alt=\"\">\n        <div class=\"h-100 d-flex align-items-center\">\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col offset-1 offset-md-1\">\n                <h2 class=\"line-height-2 text-primary text-md-left letter-spacing-1\">Life is full of<br>Wonderful Flavor</h2>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    <!-- product banner 結束 -->\n    <h3 class=\"mb-4 mb-lg-7\">Product</h3>\n    <!-- product list 開始 -->\n    <section class=\"container\">\n      <ul class=\"list-unstyled row\">\n        <li v-for=\"item in productsList\"\n            :key=\"item.id\"\n            class=\"btnHoverShow col col-6 offset-0 col-sm-6 col-md-4 col-lg-3\n                  btn py-3 border-0 text-primary btn-outline-info text-decoration-none\">\n          <router-link :to=\"`/Product/${item.id}`\" class=\"text-decoration-none w-100\">\n            <div class=\"remainRatio2To3 mb-3\">\n              <img class=\"\" :src=\"item.imageUrl[0]\" alt=\"item.title\">\n            </div>\n            <h5 class=\"mb-2\">{{item.title}}</h5>\n            <p class=\"mb-2\">{{item.price}} NTD/ {{item.unit}}</p>\n          </router-link>\n          <button @click=\"addToCart(item.id)\"\n                  class=\"btn border-0 btn-outline-primary w-100 text-decoration-none\">\n            Add to Cart\n          </button>\n        </li>\n      </ul>\n    </section>\n    <!-- product list 結束 -->\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      productsList: {},\n      cartList: [],\n      isLoading: false\n    }\n  },\n  methods: {\n    getProducts (page = 1) {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/products`\n      // vm.changeLoadingState('getProducts')\n      this.$http.get(url, { page: page })\n        .then(res => {\n          console.log(res)\n          vm.productsList = res.data.data\n          // vm.changeLoadingState('getProducts')\n        })\n        .catch(err => {\n          console.log(err)\n          // vm.changeLoadingState('getProducts')\n        })\n    },\n    getCartList () {\n      const url = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`\n      const vm = this\n      vm.changeLoadingState('getCartList')\n      this.$http.get(url)\n        .then(res => {\n          console.log(res)\n          vm.cartList = res.data.data\n          vm.changeLoadingState('getCartList')\n\n          // 更新購物車資訊，監聽者來自 App.vue 喔喔喔\n          this.$bus.$emit('cartRenew', vm.cartList)\n        })\n        .catch(err => {\n          console.log(err)\n          vm.changeLoadingState('getCartList')\n        })\n    },\n    addToCart (nowProductId, quantity = 1) {\n      const url = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`\n      const vm = this\n      var nowCartItem = vm.cartList.find(function (item) {\n        return item.product.id === nowProductId\n      })\n      if (nowCartItem) {\n        console.log('already exists')\n        vm.editCart(nowProductId, nowCartItem.quantity + quantity)\n      } else {\n        this.$http.post(url, {\n          product: nowProductId,\n          quantity: quantity.toString()\n        })\n          .then((res) => {\n            console.log(res)\n            vm.getCartList()\n          })\n          .catch((err) => {\n            console.log(err)\n          })\n      }\n    },\n    editCart (nowProductId, quantity) {\n      const url = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`\n      const vm = this\n      this.$http.patch(url, {\n        product: nowProductId,\n        quantity: quantity.toString()\n      })\n        .then(res => {\n          console.log(res)\n          vm.getCartList()\n        })\n        .catch(err => console.log(err))\n    },\n    changeLoadingState (nowMethod) {\n      this.isLoading = !this.isLoading\n      console.log(nowMethod, this.isLoading)\n    }\n  },\n  created () {\n    this.changeLoadingState('created')\n    this.getProducts()\n    this.getCartList()\n    this.changeLoadingState('created')\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  .productsBanner {\n    height: 400px\n  }\n  .btnHoverShow:hover {\n    .btn {\n      background-color: $mama-green;\n      color: white;\n      &:hover {\n        background-color: rgba($mama-green, 0.8);\n        // color: $mama-green;\n      }\n    }\n  }\n  .remainRatio2To3 {\n    position: relative;\n    width: 100%;\n    padding-top: 150%;\n    overflow: hidden;\n    img {\n      position:  absolute;\n      height: 100%;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%,-50%);\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=c45c8dce&scoped=true&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=c45c8dce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c45c8dce\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}